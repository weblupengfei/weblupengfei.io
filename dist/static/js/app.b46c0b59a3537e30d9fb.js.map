{"version":3,"sources":["webpack:///./src/App.vue?21d6","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/assets/http.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","Vue","use","Router","router","routes","path","component","e","then","bind","children","beforeEach","to","from","next","isLogin","localStorage","accessToken","Vuex","state","tabList","JSON","parse","getItem","label","icon","currentTab","isCollapse","menu","userImage","deptList","roleList","selectDept","pageSize","page","mutations","addTab","val","findIndex","item","push","setItem","stringify_default","closeTab","result","splice","getImage","setDept","saveDept","changePage","changePageSize","store","Store","actions","axios","interceptors","request","config","console","log","headers","Authorization","response","error","status","Message","removeItem","promise_default","a","reject","productionTip","ElementUI","prototype","qs","defaults","withCredentials","originalPush","location","call","catch","err","el","components","App","template"],"mappings":"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","file":"static/js/app.b46c0b59a3537e30d9fb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9c8ea400\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9c8ea400\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9c8ea400\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style lang='scss'>\n  #app{\n    height:100vh;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\nimport Router from 'vue-router'\n// import HelloWorld from '@/components/HelloWorld'\n\nVue.use(Router)\n\n\nconst router = new Router({\n  routes: [\n    // {\n    //   path: '/',\n    //   name: 'HelloWorld',\n    //   component: HelloWorld\n    // },\n    {path:'/',component:()=> import ('../views/Main.vue'),children:[\n      {path:'/',component:()=>import ('../views/Home.vue')},\n      {path:'/home',component:()=> import ('../views/Home.vue')},\n      {path:'/user',component:()=> import ('../views/User.vue')},\n      {path:'/role',component:()=>import ('../views/Role.vue')},\n      {path:'/right',component:()=>import ('../views/Right.vue')},\n      {path:'/customer',component:()=>import ('../views/Customer.vue')},\n      {path:'/callRecords',component:()=>import ('../views/CallRecords.vue')},\n      {path:'/msgRecords',component:()=>import ('../views/MsgRecords.vue')},\n      {path:'/wxRecord',component:()=>import ('../views/WxRecord.vue')}\n    ]},\n    {path:'/login',component:()=> import ('../views/Login.vue')},\n    {path:'/register',component:()=> import ('../views/Register.vue')}\n  ]\n})\n\n//路由守卫\nrouter.beforeEach((to,from,next)=>{\n  const isLogin = localStorage.accessToken?true : false\n  if(to.path=='/login' || to.path=='/register'){\n    next()\n  }else{\n    isLogin?next():next('/login')\n  }\n})\n\nexport default  router\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst state = {\n  tabList: JSON.parse(localStorage.getItem('tabs')) || [\n    { path: '/', name: 'home', label: '首页', icon  : 's-home' }\n  ],\n  currentTab: null,\n  isCollapse: false,\n  menu: [],\n  userImage: '../assets/images/head.jpg',\n  deptList:[],\n  roleList:[],\n  selectDept:'',\n  pageSize:20,\n  page:1\n}\n//手写深拷贝\n// function deepClone(obj){\n//   if (typeof obj !==Object ||obj==null){\n//     return obj\n//   }\n//   let res;\n//   res instanceof Object ? res={} :res=[]\n//   for (let key in obj){\n//     if(obj.hasOwnProperty(key)){\n//       res[key]=obj.key\n//       deepClone(key)\n//     }      \n//   }\n// }\n// const cloneState=deepClone(state)\n\nconst mutations = {\n  addTab(state, val) {\n    if (val.name != 'home' && val.path) {\n      //state.currentTab=val\n      let result = state.tabList.findIndex(item => item.name === val.name)\n       result === -1 ? state.tabList.push(val) : ''\n    }\n    \n    //console.log(state.tabList) \n    localStorage.setItem('tabs',JSON.stringify(state.tabList))\n  },\n  closeTab(state, val) {\n    let result = state.tabList.findIndex(item => item.name === val.name)\n    state.tabList.splice(result, 1)\n    //console.log(state.tabList)\n  },\n  isCollapse(state) {\n    state.isCollapse = !state.isCollapse\n  },\n  getImage(state, val) {\n    state.userImage = val\n  },\n  //获取部门列表\n  setDept(state,val){\n    state.deptList=val\n  },\n  //保存选中的部门\n  saveDept(state,val){\n    state.selectDept=val\n  },\n  changePage(state,val){\n    state.page=val\n  },\n  changePageSize(state,val){\n    state.pageSize=val\n  }\n}\n\nconst actions = {\n}\n\nexport default new Vuex.Store({\n  state,\n  mutations,\n  actions\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import axios from 'axios'\r\nimport {Message} from 'element-ui'\r\nimport router from '../router'\r\n\r\n//请求拦截\r\naxios.interceptors.request.use(config=>{\r\n    console.log(1)\r\n    if(localStorage.accessToken){       //如果有token，设置请求头\r\n        config.headers.Authorization=localStorage.accessToken\r\n    }\r\n    console.log('请求拦截'+ config.headers.Authorization)\r\n    return config\r\n})\r\n\r\n\r\naxios.interceptors.response.use(\r\n    response=>{\r\n        return response\r\n    },\r\n    error=>{\r\n        console.log(error.response)\r\n       const {status}=error.response    //解构获取错误状态码\r\n       if(status==401){     //如果是401，清除token,并跳转回登录界面\r\n            Message.error('token失效，请重新登录')\r\n            localStorage.removeItem('accessToken')\r\n            router.push('/login')\r\n       }\r\n\r\n       return Promise.reject(error)\r\n    }\r\n)\r\nexport default axios\n\n\n// WEBPACK FOOTER //\n// ./src/assets/http.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport Router from 'vue-router'\nimport router from './router'\nimport store from './store'\n//引入公共样式\nimport './assets/scss/reset.scss'\nVue.config.productionTip = false\n\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nVue.use(ElementUI)\n\nimport qs from 'qs'\nVue.prototype.qs=qs\n\nimport axios from './assets/http'\naxios.defaults.withCredentials=true\nVue.prototype.axios=axios\n\nconst originalPush = Router.prototype.push\n   Router.prototype.push = function push(location) {\n   return originalPush.call(this, location).catch(err => err)\n}\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}