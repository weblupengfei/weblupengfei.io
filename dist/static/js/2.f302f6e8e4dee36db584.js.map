{"version":3,"sources":["webpack:///src/components/CommonForm.vue","webpack:///./src/components/CommonForm.vue?add9","webpack:///./src/components/CommonForm.vue","webpack:///src/components/CommonTable.vue","webpack:///./src/components/CommonTable.vue?21ff","webpack:///./src/components/CommonTable.vue","webpack:///src/components/CommonDept.vue","webpack:///./src/components/CommonDept.vue?c4b0","webpack:///./src/components/CommonDept.vue","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?a2e0","webpack:///./src/views/User.vue"],"names":["CommonForm","computed","extends_default","Object","vuex_esm","data","valueId","valueTitle","props","formLabel","Array","seachForm","editType","String","rules","defaultProps","id","children","label","options","type","value","methods","handleNodeClick","node","this","dept","components_CommonForm","render","_vm","_h","$createElement","_c","_self","ref","attrs","model","label-width","inline","_l","item","key","staticStyle","font-size","prop","disabled","callback","$$v","$set","expression","_e","_v","temp","_s","refInFor","placeholder","clearable","height","deptList","default-expand-all","check-strictly","expand-on-click-node","on","node-click","rname","_t","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","CommonTable","tableData","tableLabel","config","pageSize","handleEdit","val","$emit","handleDelete","sizeChange","$store","commit","prev","page","next","change","changeState","selectRows","components_CommonTable","staticClass","directives","name","rawName","stripe","selection-change","width","scopedSlots","_u","fn","scope","margin-left","padding","$index","show-overflow-tooltip","content","row","ustate","placement","active-value","inactive-value","$event","size","click","current-page","page-sizes","page-size","layout","total","size-change","prev-click","next-click","current-change","update:currentPage","update:current-page","update:pageSize","update:page-size","src_components_CommonTable","CommonDept","add","components_CommonDept","in-line","src_components_CommonDept","CommonDept_normalizeComponent","User","state","selectDept","roleList","components","Form","Table","Dept","_this","isShow","allupdateShow","bothForm","identity","bothLabel","editForm","uname","upwd","sex","phone","editLabel","radio","deptForm","dname","deptLabel","identityList","keyword","loading","required","message","trigger","validator","rule","Error","test","input","axios","post","then","res","code","checkupwd","console","log","arr","tableList","getJsonTree","parentId","itemArr","i","length","parent","newNode","did","push","getDeptList","_this2","get","dlist","getSubDept","obj","_this3","forEach","join","addnode","select","deptArr","getUser","_this4","url","result","map","sexy","edit","filter","assign_default","submit","_this5","$refs","subFormEdit","validate","valid","form","qs","stringify","$message","showClose","msg","closeEvent","del","_this6","$confirm","confirmButtonText","cancelButtonText","info","error","catch","selectTable","_this7","bothIdentity","bothDept","bothSubmit","_this8","search","created","views_User","title","visible","close-on-click-modal","update:visible","close","update:editType","update:edit-type","slot","span","changePage","changeSizePage","changState","selectRow","User_Component","User_normalizeComponent"],"mappings":"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","file":"static/js/2.f302f6e8e4dee36db584.js","sourcesContent":["<template>\r\n    <el-form  :model=\"seachForm\" label-width=\"80px\" inline :rules='rules' ref='subFormEdit'>\r\n        <el-form-item v-for='item in formLabel' :key='item.model' :label='item.label' style='font-size:12px' :prop='item.model'>\r\n            <el-input v-model='seachForm[item.model]' v-if=\"item.type==='input'\" :disabled=\"editType==='add'?false:item.disabled\" ></el-input>\r\n            <!-- 密码 -->\r\n            <el-input v-model='seachForm[item.model]' v-if=\"item.type==='password'\" :type='item.type' :prop='item.model'></el-input>\r\n            <!-- 性别 -->\r\n            <el-radio-group v-model='seachForm[item.model]'>\r\n                <el-radio   v-for='temp in item.radio' :key='temp.value' :label=\"temp.value\">{{temp.label }}</el-radio>\r\n            </el-radio-group> \r\n            <!-- 选择部门 -->\r\n            <el-select ref='select' v-model='seachForm.dept' placeholder=\"请选择\" v-if=\"item.type==='treeSelect'\" clearable >\r\n                <el-option style='height:auto' :value='valueId' :key='valueId' >\r\n                    <el-tree ref=\"tree\"  :data=\"deptList\" :props='defaultProps' default-expand-all check-strictly   :expand-on-click-node='false' @node-click=\"handleNodeClick\" >\r\n                    </el-tree>\r\n                </el-option>\r\n            </el-select> \r\n            <!-- 选择角色 -->\r\n             <el-select v-model='seachForm[item.model]' placeholder='请选择' v-if=\"item.type==='select'\"  clearable>\r\n                 <el-option v-for='item in roleList' :key='item.id' :value='item.rname' :label='item.label'></el-option>\r\n             </el-select>\r\n             <!-- 状态 -->\r\n            <el-switch v-model='seachForm[item.model]' v-if=\"item.type==='switch'\" :inline='false'></el-switch>\r\n        </el-form-item>\r\n        <!-- 按钮插槽 -->\r\n        <el-form-item>\r\n            <slot></slot>\r\n        </el-form-item>\r\n    </el-form>\r\n</template>\r\n<script>\r\nimport {mapState} from 'vuex'\r\nexport default {\r\n    computed:{\r\n        ...mapState(['deptList','roleList'])\r\n    },\r\n    data(){\r\n        return{\r\n            valueId:null,\r\n            valueTitle:''\r\n        }\r\n    },\r\n    props:{\r\n        formLabel:Array,\r\n        seachForm:Object,\r\n        editType:String,\r\n        rules:Object,\r\n        defaultProps: {\r\n            id:'id',\r\n            children: \"children\",\r\n            label: \"label\"\r\n        },\r\n        options:{type:Array},\r\n        //初始值\r\n        value:{type:String}\r\n    },\r\n    methods:{\r\n        handleNodeClick(node){\r\n            //console.log(node)\r\n            this.seachForm.dept=node.label\r\n            this.valueId=node.id\r\n        },\r\n        //uname失去焦点验证\r\n    }\r\n    // watch:{\r\n    //     valueTitle(){\r\n    //         if(this.valueTitle){\r\n    //             this.$refs.select.visible=false\r\n    //         }\r\n    //     }\r\n    // }\r\n}\r\n</script>\r\n<style  lang='scss'>\r\n.el-dialog{\r\n        .el-form-item{\r\n             margin:10px;\r\n            .el-input__inner,.el-form-item__content{\r\n                width:200px;\r\n            }\r\n            \r\n        }\r\n    }\r\n.el-form-item{\r\n    height:30px;\r\n    line-height: 27px;\r\n    margin:0;\r\n    .el-form-item__label{\r\n        font-size:10px; \r\n        line-height: 30px;       \r\n    }\r\n    .el-input__inner{\r\n        height:30px;\r\n        line-height: 30px;\r\n        width:200px;\r\n    }\r\n    .el-form-item__content{\r\n        line-height: 27px;\r\n    }\r\n    .el-input__icon{\r\n        line-height: 30px;\r\n    }\r\n}\r\n    \r\n\r\n.el-tree-node__content{\r\n    font-weight: normal;\r\n  }\r\n    \r\n    \r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/CommonForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"subFormEdit\",attrs:{\"model\":_vm.seachForm,\"label-width\":\"80px\",\"inline\":\"\",\"rules\":_vm.rules}},[_vm._l((_vm.formLabel),function(item){return _c('el-form-item',{key:item.model,staticStyle:{\"font-size\":\"12px\"},attrs:{\"label\":item.label,\"prop\":item.model}},[(item.type==='input')?_c('el-input',{attrs:{\"disabled\":_vm.editType==='add'?false:item.disabled},model:{value:(_vm.seachForm[item.model]),callback:function ($$v) {_vm.$set(_vm.seachForm, item.model, $$v)},expression:\"seachForm[item.model]\"}}):_vm._e(),_vm._v(\" \"),(item.type==='password')?_c('el-input',{attrs:{\"type\":item.type,\"prop\":item.model},model:{value:(_vm.seachForm[item.model]),callback:function ($$v) {_vm.$set(_vm.seachForm, item.model, $$v)},expression:\"seachForm[item.model]\"}}):_vm._e(),_vm._v(\" \"),_c('el-radio-group',{model:{value:(_vm.seachForm[item.model]),callback:function ($$v) {_vm.$set(_vm.seachForm, item.model, $$v)},expression:\"seachForm[item.model]\"}},_vm._l((item.radio),function(temp){return _c('el-radio',{key:temp.value,attrs:{\"label\":temp.value}},[_vm._v(_vm._s(temp.label))])}),1),_vm._v(\" \"),(item.type==='treeSelect')?_c('el-select',{ref:\"select\",refInFor:true,attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\"},model:{value:(_vm.seachForm.dept),callback:function ($$v) {_vm.$set(_vm.seachForm, \"dept\", $$v)},expression:\"seachForm.dept\"}},[_c('el-option',{key:_vm.valueId,staticStyle:{\"height\":\"auto\"},attrs:{\"value\":_vm.valueId}},[_c('el-tree',{ref:\"tree\",refInFor:true,attrs:{\"data\":_vm.deptList,\"props\":_vm.defaultProps,\"default-expand-all\":\"\",\"check-strictly\":\"\",\"expand-on-click-node\":false},on:{\"node-click\":_vm.handleNodeClick}})],1)],1):_vm._e(),_vm._v(\" \"),(item.type==='select')?_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\"},model:{value:(_vm.seachForm[item.model]),callback:function ($$v) {_vm.$set(_vm.seachForm, item.model, $$v)},expression:\"seachForm[item.model]\"}},_vm._l((_vm.roleList),function(item){return _c('el-option',{key:item.id,attrs:{\"value\":item.rname,\"label\":item.label}})}),1):_vm._e(),_vm._v(\" \"),(item.type==='switch')?_c('el-switch',{attrs:{\"inline\":false},model:{value:(_vm.seachForm[item.model]),callback:function ($$v) {_vm.$set(_vm.seachForm, item.model, $$v)},expression:\"seachForm[item.model]\"}}):_vm._e()],1)}),_vm._v(\" \"),_c('el-form-item',[_vm._t(\"default\")],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8c4479d0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/CommonForm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8c4479d0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CommonForm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommonForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommonForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8c4479d0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./CommonForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CommonForm.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class='common-table'>\r\n        <el-table :data=\"tableData\" height='380' stripe v-loading='config.loading' @selection-change='selectRows' >\r\n            <el-table-column prop=\"date\" label='序号' width='70'  >\r\n                <template slot-scope=\"scope\">\r\n                    <span style=\"margin-left: 10px;padding:0\">{{scope.$index +1}}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column type=\"selection\"  width=\"55\"> </el-table-column>\r\n            <el-table-column v-for='item in tableLabel' :key='item.prop' :label='item.label' show-overflow-tooltip>\r\n                <template slot-scope=\"scope\" >\r\n                    <el-tooltip :content=\"scope.row.ustate?'已启用':'已禁用'\" placement='right'>\r\n                        <el-switch  v-model='scope.row.ustate' v-if=\"item.prop=='state'\" :active-value='true' :inactive-value='false' @change='changeState(scope.row)'>\r\n                        </el-switch>\r\n                    </el-tooltip>\r\n                    <span style=\"margin-left: 10px;font-size:12px;\">{{ scope.row[item.prop] }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width='150'>\r\n                <template slot-scope=\"scope\"> \r\n                    <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n                    <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination @size-change=\"sizeChange\" @prev-click='prev' @next-click='next' @current-change='change' :current-page.sync=\"config.page\" :page-sizes=\"[20, 50, 200, 500]\" :page-size.sync=\"config.pageSize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\" :total=\"config.total\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default { \r\n    props:{\r\n        tableData:Array,\r\n        tableLabel:Array,   \r\n        config:Object\r\n    },\r\n    data(){\r\n        return {\r\n            pageSize:null,\r\n            \r\n        }\r\n    },\r\n    methods:{\r\n        handleEdit(val){this.$emit('edit',val)},\r\n        handleDelete(val){this.$emit('del',val)},\r\n        sizeChange(pageSize){\r\n            //this.$emit('changeSizePage',pageSize)\r\n            this.$store.commit('changePageSize',pageSize)\r\n            this.$emit('changeSizePage')\r\n        },\r\n        prev(page){\r\n            this.$store.commit('changePage',page)\r\n            this.$emit('changePage')\r\n        },\r\n        next(page){\r\n            this.$store.commit('changePage',page)\r\n            this.$emit('changePage')\r\n        },\r\n        change(page){\r\n            this.$store.commit('changePage',page)\r\n            this.$emit('changePage')\r\n        },\r\n        changeState(val){this.$emit('changState',val)},\r\n        //表格行选中\r\n        selectRows(val){\r\n            this.$emit('selectRow',val)\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang='scss'>\r\n    .el-table{\r\n        padding-top:10px;\r\n       \r\n            td{\r\n                padding:5px 0;\r\n            }\r\n        \r\n    }\r\n\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/CommonTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"common-table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.config.loading),expression:\"config.loading\"}],attrs:{\"data\":_vm.tableData,\"height\":\"380\",\"stripe\":\"\"},on:{\"selection-change\":_vm.selectRows}},[_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"序号\",\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\",\"padding\":\"0\"}},[_vm._v(_vm._s(scope.$index +1))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_vm._l((_vm.tableLabel),function(item){return _c('el-table-column',{key:item.prop,attrs:{\"label\":item.label,\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"content\":scope.row.ustate?'已启用':'已禁用',\"placement\":\"right\"}},[(item.prop=='state')?_c('el-switch',{attrs:{\"active-value\":true,\"inactive-value\":false},on:{\"change\":function($event){return _vm.changeState(scope.row)}},model:{value:(scope.row.ustate),callback:function ($$v) {_vm.$set(scope.row, \"ustate\", $$v)},expression:\"scope.row.ustate\"}}):_vm._e()],1),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"10px\",\"font-size\":\"12px\"}},[_vm._v(_vm._s(scope.row[item.prop]))])]}}],null,true)})}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],2),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.config.page,\"page-sizes\":[20, 50, 200, 500],\"page-size\":_vm.config.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.config.total},on:{\"size-change\":_vm.sizeChange,\"prev-click\":_vm.prev,\"next-click\":_vm.next,\"current-change\":_vm.change,\"update:currentPage\":function($event){return _vm.$set(_vm.config, \"page\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.config, \"page\", $event)},\"update:pageSize\":function($event){return _vm.$set(_vm.config, \"pageSize\", $event)},\"update:page-size\":function($event){return _vm.$set(_vm.config, \"pageSize\", $event)}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fa844e10\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/CommonTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fa844e10\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CommonTable.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommonTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommonTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fa844e10\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./CommonTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CommonTable.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class='dept'>\r\n        <el-row in-line='true' class='team'>\r\n            <p>组织架构</p> \r\n            <el-button type='primary' size='mini' @click='add'>新建部门</el-button>\r\n        </el-row>\r\n        <el-row>\r\n            <el-tree :data=\"deptList\" default-expand-all :expand-on-click-node='false' @node-click=\"handleNodeClick\" >\r\n            </el-tree>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {mapState} from 'vuex'\r\nexport default {\r\n    computed:{\r\n        ...mapState(['deptList'])\r\n    },\r\n    \r\n    methods: {\r\n        handleNodeClick(data) {\r\n            this.$emit('selectDept',data)\r\n        },\r\n        add(){\r\n            this.$emit('addnode')\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped lang='scss'>\r\n.dept{\r\n    height:100%;\r\n    background-color:#eee;\r\n    .team{\r\n        font-size:14px;\r\n        height:100%;\r\n        display:flex;\r\n        align-items:center;\r\n        justify-content:space-between;\r\n    }\r\n        \r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/CommonDept.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dept\"},[_c('el-row',{staticClass:\"team\",attrs:{\"in-line\":\"true\"}},[_c('p',[_vm._v(\"组织架构\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.add}},[_vm._v(\"新建部门\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-tree',{attrs:{\"data\":_vm.deptList,\"default-expand-all\":\"\",\"expand-on-click-node\":false},on:{\"node-click\":_vm.handleNodeClick}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d5d8d8a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/CommonDept.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d5d8d8a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CommonDept.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommonDept.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommonDept.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d5d8d8a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./CommonDept.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4d5d8d8a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CommonDept.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-row class=\"user\">\r\n    <el-dialog\r\n      :title=\"editType=='addDept'?'新建部门':editType=='add'? '新增用户':'编辑用户'\"\r\n      :visible.sync=\"isShow\"\r\n      :close-on-click-modal=\"false\"\r\n      @close=\"closeEvent\"\r\n      v-if=\"isShow\"\r\n    >\r\n      <Form\r\n        class=\"edit\"\r\n        :formLabel=\"editLabel\"\r\n        :seachForm=\"editForm\"\r\n        :rules=\"rules\"\r\n        :editType.sync=\"editType\"\r\n        ref=\"formEdit\"\r\n      ></Form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"closeEvent\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog title='批量修改' width='30%' class='both' v-if='allupdateShow' :visible.sync='allupdateShow' @close=\"closeEvent\">\r\n        <Form :formLabel='bothLabel' :seachForm='bothForm' :deptList='deptList' :identityList='identityList' :rules='rules' ref='updateForm'></Form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"closeEvent\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"bothSubmit\">保存</el-button>\r\n        </div>\r\n    </el-dialog>    \r\n    <el-col :span=\"4\" class=\"left\">\r\n      <Dept @selectDept=\"select\" @addnode=\"addnode\"></Dept>\r\n    </el-col>\r\n    <el-col :span=\"20\" class=\"right\">\r\n      <div class=\"form\">\r\n        <div>\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"add\">新增</el-button>\r\n          <el-button type=\"primary\" size=\"mini\" @click='bothIdentity'>修改角色</el-button>\r\n          <el-button type=\"primary\" size=\"mini\" @click='bothDept'>修改部门</el-button>\r\n        </div>\r\n\r\n        <Form :formLabel=\"formLabel\" :seachForm=\"seachForm\" :deptList=\"deptList\">\r\n          <el-button type=\"primary\" size=\"mini\">搜索</el-button>\r\n        </Form>\r\n      </div>\r\n      <Table\r\n        class=\"table\"\r\n        :tableData=\"tableData\"\r\n        :tableLabel=\"tableLabel\"\r\n        :config=\"config\"\r\n        @changePage=\"getUser\"\r\n        @changeSizePage=\"getUser\"\r\n        @edit=\"edit\"\r\n        @del=\"del\"\r\n        @changState=\"changeState\"\r\n        @selectRow='selectTable'\r\n      ></Table>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport Form from \"../components/CommonForm.vue\";\r\nimport Table from \"../components/CommonTable.vue\";\r\nimport Dept from \"../components/CommonDept.vue\";\r\nimport {mapState} from 'vuex'\r\nexport default {\r\n  computed:{\r\n    ...mapState({\r\n      pageSize:state=>state.pageSize,\r\n      page:state=>state.page,\r\n      selectDept:state=>state.selectDept,\r\n      roleList:state=> state.roleList\r\n    })\r\n  },\r\n  components: {\r\n    Form,\r\n    Table,\r\n    Dept\r\n  },\r\n  data() {\r\n    //用户名验证\r\n    var checkUname = (rule, value, callback) => {\r\n      if (this.editType == \"add\") {\r\n        if (!value) {\r\n          return callback(new Error(\"请输入用户名\"));\r\n        } else if (/^[a-z0-9]{3,12}$/.test(value)) {\r\n          const url = \"http://127.0.0.1:3000/check\";\r\n          const input = `uname=${value}`;\r\n          this.axios.post(url, input).then(res => {\r\n            //console.log(res)\r\n            if (res.data.code == -1) {\r\n              return callback(new Error(\"用户名已被注册\"));\r\n            } else {\r\n              return callback();\r\n            }\r\n          });\r\n        } else {\r\n          return callback(new Error(\"英文或数字，长度再3-12之间\"));\r\n        }\r\n      } else {\r\n        return callback();\r\n      }\r\n    };\r\n    //密码验证\r\n    var regUpwd = (rule, value, callback) => {\r\n      if (this.editType == \"add\") {\r\n        const reg = /^(?=.*\\d)(?=.*[a-z])(?=.*[~!@#$%^&*])[\\da-z~!@#$%^&*]{6,12}$/; //必须包含数字字母特殊符号，6-12位\r\n        if (!value) {\r\n          return callback(new Error(\"请输入密码\"));\r\n        } else if (!reg.test(value)) {\r\n          return callback(\r\n            new Error(\"必须包含数字、字母、特殊符号，长度在6-12之间\")\r\n          );\r\n        } else {\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n    //确认密码\r\n    var checkUpwd = (rule, value, callback) => {\r\n      if (this.editType == \"add\") {\r\n        if (!value) {\r\n          return callback(new Error(\"请在此输入密码\"));\r\n        } else if (value != this.editForm.upwd) {\r\n          console.log(this.editForm.upwd);\r\n          callback(new Error(\"两次输入密码不一致\"));\r\n        } else {\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n    return {\r\n      editType: \"add\",\r\n      isShow: false,\r\n      allupdateShow:false,\r\n      bothForm:{\r\n        dept:'',\r\n        identity:''\r\n      },\r\n      bothLabel:[\r\n        {\r\n          model:'dept',\r\n          label:'部门',\r\n          type:'treeSelect'\r\n        },\r\n        {\r\n          model: \"identity\",\r\n          label: \"角色\",\r\n          type: \"select\"\r\n        }\r\n      ],\r\n      editForm: {\r\n        name: \"\",\r\n        uname: \"\",\r\n        upwd: \"\",\r\n        ustate: \"\",\r\n        sex: \"\",\r\n        dept: \"\",\r\n        identity: \"\",\r\n        phone: \"\"\r\n      },\r\n      editLabel: [\r\n        {\r\n          model: \"name\",\r\n          label: \"姓名\",\r\n          type: \"input\"\r\n        },\r\n        {\r\n          model: \"uname\",\r\n          label: \"用户名\",\r\n          type: \"input\",\r\n          disabled: true\r\n        },\r\n        {\r\n          model: \"upwd\",\r\n          label: \"密码\",\r\n          type: \"password\"\r\n        },\r\n        {\r\n          model: \"checkupwd\",\r\n          label: \"确认密码\",\r\n          type: \"password\"\r\n        },\r\n        {\r\n          model: \"sex\",\r\n          label: \"性别\",\r\n          type: \"radio\",\r\n          radio: [\r\n            {\r\n              label: \"男\",\r\n              value: 1\r\n            },\r\n            {\r\n              label: \"女\",\r\n              value: 0\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          model: \"ustate\",\r\n          label: \"状态\",\r\n          type: \"switch\"\r\n        },\r\n        {\r\n          model: \"dept\",\r\n          label: \"部门\",\r\n          type: \"treeSelect\"\r\n        },\r\n        {\r\n          model: \"identity\",\r\n          label: \"角色\",\r\n          type: \"select\"\r\n        },\r\n        {\r\n          model: \"phone\",\r\n          label: \"号码\",\r\n          type: \"input\"\r\n        }\r\n      ],\r\n      deptList: [\r\n        {\r\n          id: \"1\",\r\n          label: \"上海\",\r\n          children: [\r\n            {\r\n              id: \"2\",\r\n              label: \"销售部\"\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      deptForm: {\r\n        dept: \"\",\r\n        dname: \"\"\r\n      },\r\n      deptLabel: [\r\n        {\r\n          model: \"dept\",\r\n          label: \"上级部门\",\r\n          type: \"treeSelect\"\r\n        },\r\n        {\r\n          model: \"dname\",\r\n          label: \"部门名称\",\r\n          type: \"input\"\r\n        }\r\n      ],\r\n      identityList: [\r\n        {\r\n          id: \"1\",\r\n          label: \"部门经理\"\r\n        },\r\n        {\r\n          id: \"2\",\r\n          label: \"员工\"\r\n        }\r\n      ],\r\n      seachForm: {\r\n        dept: \"\",\r\n        keyword: \"\"\r\n      },\r\n      formLabel: [\r\n        {\r\n          model: \"dept\",\r\n          label: \"部门\",\r\n          type: \"treeSelect\"\r\n        },\r\n        {\r\n          model: \"keyword\",\r\n          label: \"用户名\",\r\n          type: \"input\"\r\n        }\r\n      ],\r\n      tableData: [],\r\n      tableLabel: [\r\n        {\r\n          prop: \"name\",\r\n          label: \"姓名\"\r\n        },\r\n        {\r\n          prop: \"uname\",\r\n          label: \"用户名\"\r\n        },\r\n        {\r\n          prop: \"state\",\r\n          label: \"状态\"\r\n        },\r\n        {\r\n          prop: \"sexy\",\r\n          label: \"性别\"\r\n        },\r\n        {\r\n          prop: \"dept\",\r\n          label: \"部门\"\r\n        },\r\n        {\r\n          prop: \"identity\",\r\n          label: \"角色\"\r\n        },\r\n        {\r\n          prop: \"phone\",\r\n          label: \"手机号码\"\r\n        }\r\n      ],\r\n      config: {\r\n        page: 1,\r\n        pageSize: null,\r\n        total: 25,\r\n        loading: false\r\n      },\r\n\r\n      rules: {\r\n        name: [{ required: true, message: \"请输入姓名\", trigger: \"blur\" }],\r\n        uname: [{ required: true, validator: checkUname, trigger: \"blur\" }],\r\n        upwd: [{ required: true, validator: regUpwd, trigger: \"blur\" }],\r\n        checkupwd: [{ required: true, validator: checkUpwd, trigger: \"blur\" }],\r\n        sex: [{ required: true, message: \"请选择性别\", trigger: \"change\" }],\r\n        dept: [{ required: true, message: \"请选择部门\", trigger: \"change\" }],\r\n        identity: [\r\n          { required: true, message: \"请选择角色\", trigger: \"change\" }\r\n        ],\r\n        phone: [{ required: true, message: \"请输入手机号码\", trigger: \"blur\" }]\r\n      },\r\n      arr: [],         //保存部门\r\n      tableList:[]    //保存选中行的uname，select(val)中\r\n    };\r\n  },\r\n  methods: {\r\n    //获取部门列表\r\n    //部门树\r\n    getJsonTree(data, parentId) {\r\n      var itemArr = [];\r\n      for (var i = 0; i < data.length; i++) {\r\n        var node = data[i];\r\n        //data.splice(i, 1)\r\n        if (node.parent == parentId) {\r\n          var newNode = {\r\n            id: node.did,\r\n            label: node.dname,\r\n            children: this.getJsonTree(data, node.did)\r\n          };\r\n          itemArr.push(newNode);\r\n        }\r\n      }\r\n      return itemArr;\r\n    },\r\n    getDeptList() {\r\n      const url = \"http://127.0.0.1:3000/getDept\";\r\n      this.axios.get(url).then(res => {\r\n        const dlist = this.getJsonTree(res.data.data, \"\");\r\n        this.deptList = dlist;\r\n        this.$store.commit(\"setDept\", dlist);\r\n      });\r\n    },\r\n\r\n    //新建部门\r\n    getSubDept(obj) {\r\n      if (obj) {\r\n        this.arr.push(obj.label);\r\n        if (obj.children) {\r\n          obj.children.forEach(item => {\r\n            this.getSubDept(item);\r\n          });\r\n        }\r\n      }\r\n      return this.arr.join(\"','\");\r\n    },\r\n    addnode() {\r\n      //console.log(1)\r\n      this.isShow = true;\r\n      this.editType = \"addDept\";\r\n      this.editLabel = this.deptLabel;\r\n      this.editForm = this.deptForm;\r\n    },\r\n\r\n\r\n    //点击部门筛选\r\n    select(val) {\r\n      \r\n      let deptArr = this.getSubDept(val);\r\n      console.log(deptArr)\r\n      this.$store.commit('saveDept',deptArr)\r\n      this.$store.commit('changePage',1)\r\n      this.config.page=this.page\r\n      this.getUser();\r\n      this.arr = [];\r\n    },\r\n    //加载用户信息\r\n    getUser() {\r\n      this.config.loading = true;\r\n      let url =\r\n        \"http://127.0.0.1:3000/userList?page=\" +\r\n        this.page +\r\n        \"&pageSize=\" +\r\n        this.pageSize +\r\n        \"&dept=\" +\r\n       this.selectDept;\r\n      this.axios.get(url).then(res => {\r\n        var result = res.data.data.data;\r\n        this.config.total = res.data.data.total;\r\n        //console.log(result);\r\n        this.tableData = result.map(item => {\r\n          item.ustate = item.ustate === 1 ? true : false;\r\n          item.sexy = item.sex === 1 ? \"男\" : \"女\";\r\n          return item;\r\n        });\r\n        console.log(this.tableData)\r\n        this.config.loading = false;\r\n      });\r\n    },\r\n\r\n    //编辑按钮\r\n    edit(val) {\r\n      this.isShow = true;\r\n      this.editType = \"edit\";\r\n      //编辑时过滤掉密码\r\n      this.editLabel = this.editLabel.filter(item => {\r\n        if (item.type == \"password\") {\r\n          item = null;\r\n        }\r\n        return item;\r\n      });\r\n\r\n      this.editForm = Object.assign({},val);//先将对象浅拷贝一下，防止双向绑定修改（弹窗修改，页面跟着修改）\r\n    },\r\n\r\n    //提交按钮\r\n    submit() {\r\n      //先验证表格再提交\r\n      this.$refs[\"formEdit\"].$refs.subFormEdit.validate(valid => {\r\n        console.log(valid);\r\n        if (valid) {\r\n          this.editForm.sexy = this.editForm.sex == \"1\" ? \"男\" : \"女\";\r\n          var url = \"\";\r\n          if (this.editType == \"add\") {\r\n            //固定默认选项\r\n            this.editForm.sexy = \"\";\r\n            url = \"http://127.0.0.1:3000/register\";\r\n          } else if (this.editType == \"edit\") {\r\n            url = \"http://127.0.0.1:3000/editUserInfo\";\r\n          } else {\r\n            url = \"http://127.0.0.1:3000/addDept\";\r\n          }\r\n          var form = this.qs.stringify(this.editForm);\r\n          console.log(this.editForm);\r\n          this.axios.post(url, form).then(res => {\r\n            //console.log(res)\r\n            if (res.data.code == 1) {\r\n              this.$message({\r\n                showClose: true, //手动关闭消息提醒\r\n                type: \"success\",\r\n                message: res.data.msg\r\n              });\r\n              this.closeEvent();\r\n              this.getUser();\r\n              this.getDeptList();\r\n            } else {\r\n              //console.log(this.editForm);\r\n              this.$message({\r\n                showClose: true,\r\n                type: \"warning\",\r\n                message: res.data.msg\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    //删除按钮\r\n    del(val) {\r\n      this.$confirm(\"此操作将永久删除该用户，是否继续\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          var url = \"http://127.0.0.1:3000/deleteUser\";\r\n          var info = this.qs.stringify(val);\r\n          this.axios.post(url, info).then(res => {\r\n            if (res.data.code == 1) {\r\n              this.$message({\r\n                showClose: true,\r\n                type: \"success\",\r\n                message: res.data.msg\r\n              });\r\n              this.getUser();\r\n            } else {\r\n              this.$message.error(res.data.msg);\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    },\r\n\r\n    //添加按钮\r\n    add() {\r\n      this.isShow = true;\r\n      this.editForm.ustate = true;\r\n      this.editForm.sex = 1;\r\n      this.editType = \"add\";\r\n    },\r\n    //uname验证\r\n    //修改状态\r\n    changeState(val) {\r\n      console.log(val);\r\n\r\n      const data = this.qs.stringify(val);\r\n      console.log(data);\r\n      const url = \"http://127.0.0.1:3000/editUserInfo\";\r\n      this.axios.post(url, data).then(res => {\r\n        //console.log(res)\r\n      });\r\n    },\r\n    //表单关闭触发事件\r\n    closeEvent() {\r\n      //console.log(this.$refs['formEdit'].$refs.subFormEdit)\r\n      this.isShow = false;\r\n      this.allupdateShow=false\r\n      this.editForm = {\r\n        name: \"\",\r\n        uname: \"\",\r\n        ustate: true,\r\n        upwd: \"\",\r\n        sex: \"\",\r\n        dept: \"\",\r\n        identity: \"\",\r\n        phone: \"\"\r\n      };\r\n      //将编辑模板重新初始化\r\n      this.editLabel = [\r\n        {\r\n          model: \"name\",\r\n          label: \"姓名\",\r\n          type: \"input\"\r\n        },\r\n        {\r\n          model: \"uname\",\r\n          label: \"用户名\",\r\n          type: \"input\",\r\n          disabled: true\r\n        },\r\n        {\r\n          model: \"upwd\",\r\n          label: \"密码\",\r\n          type: \"password\"\r\n        },\r\n        {\r\n          model: \"checkupwd\",\r\n          label: \"确认密码\",\r\n          type: \"password\"\r\n        },\r\n        {\r\n          model: \"sex\",\r\n          label: \"性别\",\r\n          type: \"radio\",\r\n          radio: [\r\n            {\r\n              label: \"男\",\r\n              value: 1\r\n            },\r\n            {\r\n              label: \"女\",\r\n              value: 0\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          model: \"ustate\",\r\n          label: \"状态\",\r\n          type: \"switch\"\r\n        },\r\n        {\r\n          model: \"dept\",\r\n          label: \"部门\",\r\n          type: \"treeSelect\"\r\n        },\r\n        {\r\n          model: \"identity\",\r\n          label: \"角色\",\r\n          type: \"select\"\r\n        },\r\n        {\r\n          model: \"phone\",\r\n          label: \"号码\",\r\n          type: \"input\"\r\n        }\r\n      ];\r\n      this.deptForm = {\r\n        dept: \"\",\r\n        dname: \"\"\r\n      };\r\n      this.bothLabel=[\r\n        {\r\n          model:'dept',\r\n          label:'部门',\r\n          type:'treeSelect'\r\n        },\r\n        {\r\n          model: \"identity\",\r\n          label: \"角色\",\r\n          type: \"select\"\r\n        }\r\n      ]\r\n      this.bothForm={\r\n        dept:'',\r\n        identity:''\r\n      }\r\n    },\r\n    //选中行\r\n    selectTable(val){\r\n      this.tableList=[]\r\n      val.forEach(item=>{\r\n        this.tableList.push(item.uname)\r\n      })\r\n      console.log(this.tableList)\r\n    },\r\n    \r\n  //批量修改点击编辑角色\r\n    bothIdentity(){\r\n      this.allupdateShow=true\r\n      this.bothLabel=this.bothLabel.filter(item=>{\r\n        if(item.model=='dept'){\r\n          item=null\r\n        }\r\n        return item\r\n      })\r\n    },\r\n    //批量修改部门\r\n    bothDept(){\r\n      this.allupdateShow=true\r\n      this.bothLabel=this.bothLabel.filter(item=>{\r\n        if(item.model=='identity'){\r\n          item = null\r\n        }\r\n        return item\r\n      })\r\n    },\r\n  //批量提交\r\n  bothSubmit(){\r\n    this.config.loading = true;\r\n    this.$refs['updateForm'].$refs.subFormEdit.validate(valid=>{\r\n      if(valid){\r\n          let tableData=this.tableList.join(\"','\")  \r\n          this.bothForm.tableData=tableData\r\n          console.log(this.bothForm)\r\n          let form=this.qs.stringify(this.bothForm)\r\n          const url='http://127.0.0.1:3000/bothUpdate'\r\n          this.axios.post(url,form).then(res=>{\r\n            if(res.data.code==1){\r\n              this.$message({\r\n                type:'success',\r\n                showClose:true,\r\n                message:res.data.msg\r\n              })\r\n              this.closeEvent();\r\n              this.getUser()\r\n              \r\n            }else{\r\n                this.$message({\r\n                type:'warning',\r\n                showClose:true,\r\n                message:res.data.msg\r\n                })\r\n            }\r\n\r\n          })\r\n      }\r\n    })\r\n    this.config.loading = false\r\n  },\r\n\r\n    //搜索\r\n    search() {}\r\n  },\r\n\r\n  created() {\r\n    this.getUser();\r\n    this.getDeptList();\r\n  }\r\n};\r\n</script>\r\n<style lang='scss' scoped>\r\n.left {\r\n  background-color: #eee;\r\n}\r\n\r\n.form {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/User.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"user\"},[(_vm.isShow)?_c('el-dialog',{attrs:{\"title\":_vm.editType=='addDept'?'新建部门':_vm.editType=='add'? '新增用户':'编辑用户',\"visible\":_vm.isShow,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.isShow=$event},\"close\":_vm.closeEvent}},[_c('Form',{ref:\"formEdit\",staticClass:\"edit\",attrs:{\"formLabel\":_vm.editLabel,\"seachForm\":_vm.editForm,\"rules\":_vm.rules,\"editType\":_vm.editType},on:{\"update:editType\":function($event){_vm.editType=$event},\"update:edit-type\":function($event){_vm.editType=$event}}}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeEvent}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确 定\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.allupdateShow)?_c('el-dialog',{staticClass:\"both\",attrs:{\"title\":\"批量修改\",\"width\":\"30%\",\"visible\":_vm.allupdateShow},on:{\"update:visible\":function($event){_vm.allupdateShow=$event},\"close\":_vm.closeEvent}},[_c('Form',{ref:\"updateForm\",attrs:{\"formLabel\":_vm.bothLabel,\"seachForm\":_vm.bothForm,\"deptList\":_vm.deptList,\"identityList\":_vm.identityList,\"rules\":_vm.rules}}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeEvent}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.bothSubmit}},[_vm._v(\"保存\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('el-col',{staticClass:\"left\",attrs:{\"span\":4}},[_c('Dept',{on:{\"selectDept\":_vm.select,\"addnode\":_vm.addnode}})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"right\",attrs:{\"span\":20}},[_c('div',{staticClass:\"form\"},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.add}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.bothIdentity}},[_vm._v(\"修改角色\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.bothDept}},[_vm._v(\"修改部门\")])],1),_vm._v(\" \"),_c('Form',{attrs:{\"formLabel\":_vm.formLabel,\"seachForm\":_vm.seachForm,\"deptList\":_vm.deptList}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"搜索\")])],1)],1),_vm._v(\" \"),_c('Table',{staticClass:\"table\",attrs:{\"tableData\":_vm.tableData,\"tableLabel\":_vm.tableLabel,\"config\":_vm.config},on:{\"changePage\":_vm.getUser,\"changeSizePage\":_vm.getUser,\"edit\":_vm.edit,\"del\":_vm.del,\"changState\":_vm.changeState,\"selectRow\":_vm.selectTable}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8dbfc8a0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/User.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8dbfc8a0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./User.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./User.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./User.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8dbfc8a0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./User.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8dbfc8a0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/User.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}